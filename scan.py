import pprint
import queue
import threading

from urllib.error import URLError
from urllib.request import urlopen

LOCAL = [  # 192.168.1.0/24 default
    'http://192.168.1.0:80/',
    'http://192.168.1.1:80/',
    'http://192.168.1.2:80/',
    'http://192.168.1.3:80/',
    'http://192.168.1.4:80/',
    'http://192.168.1.5:80/',
    'http://192.168.1.6:80/',
    'http://192.168.1.7:80/',
    'http://192.168.1.8:80/',
    'http://192.168.1.9:80/',
    'http://192.168.1.10:80/',
    'http://192.168.1.11:80/',
    'http://192.168.1.12:80/',
    'http://192.168.1.13:80/',
    'http://192.168.1.14:80/',
    'http://192.168.1.15:80/',
    'http://192.168.1.16:80/',
    'http://192.168.1.17:80/',
    'http://192.168.1.18:80/',
    'http://192.168.1.19:80/',
    'http://192.168.1.20:80/',
    'http://192.168.1.21:80/',
    'http://192.168.1.22:80/',
    'http://192.168.1.23:80/',
    'http://192.168.1.24:80/',
    'http://192.168.1.25:80/',
    'http://192.168.1.26:80/',
    'http://192.168.1.27:80/',
    'http://192.168.1.28:80/',
    'http://192.168.1.29:80/',
    'http://192.168.1.30:80/',
    'http://192.168.1.31:80/',
    'http://192.168.1.32:80/',
    'http://192.168.1.33:80/',
    'http://192.168.1.34:80/',
    'http://192.168.1.35:80/',
    'http://192.168.1.36:80/',
    'http://192.168.1.37:80/',
    'http://192.168.1.38:80/',
    'http://192.168.1.39:80/',
    'http://192.168.1.40:80/',
    'http://192.168.1.41:80/',
    'http://192.168.1.42:80/',
    'http://192.168.1.43:80/',
    'http://192.168.1.44:80/',
    'http://192.168.1.45:80/',
    'http://192.168.1.46:80/',
    'http://192.168.1.47:80/',
    'http://192.168.1.48:80/',
    'http://192.168.1.49:80/',
    'http://192.168.1.50:80/',
    'http://192.168.1.51:80/',
    'http://192.168.1.52:80/',
    'http://192.168.1.53:80/',
    'http://192.168.1.54:80/',
    'http://192.168.1.55:80/',
    'http://192.168.1.56:80/',
    'http://192.168.1.57:80/',
    'http://192.168.1.58:80/',
    'http://192.168.1.59:80/',
    'http://192.168.1.60:80/',
    'http://192.168.1.61:80/',
    'http://192.168.1.62:80/',
    'http://192.168.1.63:80/',
    'http://192.168.1.64:80/',
    'http://192.168.1.65:80/',
    'http://192.168.1.66:80/',
    'http://192.168.1.67:80/',
    'http://192.168.1.68:80/',
    'http://192.168.1.69:80/',
    'http://192.168.1.70:80/',
    'http://192.168.1.71:80/',
    'http://192.168.1.72:80/',
    'http://192.168.1.73:80/',
    'http://192.168.1.74:80/',
    'http://192.168.1.75:80/',
    'http://192.168.1.76:80/',
    'http://192.168.1.77:80/',
    'http://192.168.1.78:80/',
    'http://192.168.1.79:80/',
    'http://192.168.1.80:80/',
    'http://192.168.1.81:80/',
    'http://192.168.1.82:80/',
    'http://192.168.1.83:80/',
    'http://192.168.1.84:80/',
    'http://192.168.1.85:80/',
    'http://192.168.1.86:80/',
    'http://192.168.1.87:80/',
    'http://192.168.1.88:80/',
    'http://192.168.1.89:80/',
    'http://192.168.1.90:80/',
    'http://192.168.1.91:80/',
    'http://192.168.1.92:80/',
    'http://192.168.1.93:80/',
    'http://192.168.1.94:80/',
    'http://192.168.1.95:80/',
    'http://192.168.1.96:80/',
    'http://192.168.1.97:80/',
    'http://192.168.1.98:80/',
    'http://192.168.1.99:80/',
    'http://192.168.1.100:80/',
    'http://192.168.1.101:80/',
    'http://192.168.1.102:80/',
    'http://192.168.1.103:80/',
    'http://192.168.1.104:80/',
    'http://192.168.1.105:80/',
    'http://192.168.1.106:80/',
    'http://192.168.1.107:80/',
    'http://192.168.1.108:80/',
    'http://192.168.1.109:80/',
    'http://192.168.1.110:80/',
    'http://192.168.1.111:80/',
    'http://192.168.1.112:80/',
    'http://192.168.1.113:80/',
    'http://192.168.1.114:80/',
    'http://192.168.1.115:80/',
    'http://192.168.1.116:80/',
    'http://192.168.1.117:80/',
    'http://192.168.1.118:80/',
    'http://192.168.1.119:80/',
    'http://192.168.1.120:80/',
    'http://192.168.1.121:80/',
    'http://192.168.1.122:80/',
    'http://192.168.1.123:80/',
    'http://192.168.1.124:80/',
    'http://192.168.1.125:80/',
    'http://192.168.1.126:80/',
    'http://192.168.1.127:80/',
    'http://192.168.1.128:80/',
    'http://192.168.1.129:80/',
    'http://192.168.1.130:80/',
    'http://192.168.1.131:80/',
    'http://192.168.1.132:80/',
    'http://192.168.1.133:80/',
    'http://192.168.1.134:80/',
    'http://192.168.1.135:80/',
    'http://192.168.1.136:80/',
    'http://192.168.1.137:80/',
    'http://192.168.1.138:80/',
    'http://192.168.1.139:80/',
    'http://192.168.1.140:80/',
    'http://192.168.1.141:80/',
    'http://192.168.1.142:80/',
    'http://192.168.1.143:80/',
    'http://192.168.1.144:80/',
    'http://192.168.1.145:80/',
    'http://192.168.1.146:80/',
    'http://192.168.1.147:80/',
    'http://192.168.1.148:80/',
    'http://192.168.1.149:80/',
    'http://192.168.1.150:80/',
    'http://192.168.1.151:80/',
    'http://192.168.1.152:80/',
    'http://192.168.1.153:80/',
    'http://192.168.1.154:80/',
    'http://192.168.1.155:80/',
    'http://192.168.1.156:80/',
    'http://192.168.1.157:80/',
    'http://192.168.1.158:80/',
    'http://192.168.1.159:80/',
    'http://192.168.1.160:80/',
    'http://192.168.1.161:80/',
    'http://192.168.1.162:80/',
    'http://192.168.1.163:80/',
    'http://192.168.1.164:80/',
    'http://192.168.1.165:80/',
    'http://192.168.1.166:80/',
    'http://192.168.1.167:80/',
    'http://192.168.1.168:80/',
    'http://192.168.1.169:80/',
    'http://192.168.1.170:80/',
    'http://192.168.1.171:80/',
    'http://192.168.1.172:80/',
    'http://192.168.1.173:80/',
    'http://192.168.1.174:80/',
    'http://192.168.1.175:80/',
    'http://192.168.1.176:80/',
    'http://192.168.1.177:80/',
    'http://192.168.1.178:80/',
    'http://192.168.1.179:80/',
    'http://192.168.1.180:80/',
    'http://192.168.1.181:80/',
    'http://192.168.1.182:80/',
    'http://192.168.1.183:80/',
    'http://192.168.1.184:80/',
    'http://192.168.1.185:80/',
    'http://192.168.1.186:80/',
    'http://192.168.1.187:80/',
    'http://192.168.1.188:80/',
    'http://192.168.1.189:80/',
    'http://192.168.1.190:80/',
    'http://192.168.1.191:80/',
    'http://192.168.1.192:80/',
    'http://192.168.1.193:80/',
    'http://192.168.1.194:80/',
    'http://192.168.1.195:80/',
    'http://192.168.1.196:80/',
    'http://192.168.1.197:80/',
    'http://192.168.1.198:80/',
    'http://192.168.1.199:80/',
    'http://192.168.1.200:80/',
    'http://192.168.1.201:80/',
    'http://192.168.1.202:80/',
    'http://192.168.1.203:80/',
    'http://192.168.1.204:80/',
    'http://192.168.1.205:80/',
    'http://192.168.1.206:80/',
    'http://192.168.1.207:80/',
    'http://192.168.1.208:80/',
    'http://192.168.1.209:80/',
    'http://192.168.1.210:80/',
    'http://192.168.1.211:80/',
    'http://192.168.1.212:80/',
    'http://192.168.1.213:80/',
    'http://192.168.1.214:80/',
    'http://192.168.1.215:80/',
    'http://192.168.1.216:80/',
    'http://192.168.1.217:80/',
    'http://192.168.1.218:80/',
    'http://192.168.1.219:80/',
    'http://192.168.1.220:80/',
    'http://192.168.1.221:80/',
    'http://192.168.1.222:80/',
    'http://192.168.1.223:80/',
    'http://192.168.1.224:80/',
    'http://192.168.1.225:80/',
    'http://192.168.1.226:80/',
    'http://192.168.1.227:80/',
    'http://192.168.1.228:80/',
    'http://192.168.1.229:80/',
    'http://192.168.1.230:80/',
    'http://192.168.1.231:80/',
    'http://192.168.1.232:80/',
    'http://192.168.1.233:80/',
    'http://192.168.1.234:80/',
    'http://192.168.1.235:80/',
    'http://192.168.1.236:80/',
    'http://192.168.1.237:80/',
    'http://192.168.1.238:80/',
    'http://192.168.1.239:80/',
    'http://192.168.1.240:80/',
    'http://192.168.1.241:80/',
    'http://192.168.1.242:80/',
    'http://192.168.1.243:80/',
    'http://192.168.1.244:80/',
    'http://192.168.1.245:80/',
    'http://192.168.1.246:80/',
    'http://192.168.1.247:80/',
    'http://192.168.1.248:80/',
    'http://192.168.1.249:80/',
    'http://192.168.1.250:80/',
    'http://192.168.1.251:80/',
    'http://192.168.1.252:80/',
    'http://192.168.1.253:80/',
    'http://192.168.1.254:80/',
    'http://192.168.1.255:80/',

]


def main():
    q = queue.Queue()

    scanning = [threading.Thread(None, ping, None, (q, s)) for s in LOCAL]

    for t in scanning:
        t.start()

    for t in scanning:
        t.join()

    pprint.pprint(q.queue)


def ping(q, s, /):
    try:
        with urlopen(s):
            s += ' ' '+'
    except URLError:
        s += ' ' '-'

    q.put(s)


if __name__ == '__main__':
    main()
